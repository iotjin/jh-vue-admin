(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4e4401f3"],{"0d8f":function(e,t,r){"use strict";r("4c78")},"13d5":function(e,t,r){"use strict";var o=r("23e7"),n=r("d58f").left,i=r("a640"),l=r("ae40"),c=i("reduce"),a=l("reduce",{1:0});o({target:"Array",proto:!0,forced:!c||!a},{reduce:function(e){return n(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"4c78":function(e,t,r){},"544e":function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container"},[r("el-table",{ref:"tableRef",attrs:{id:"table",data:e.singleOrderData,border:"","span-method":e.arraySpanMethod,"header-cell-style":e.headerCellStyle,"cell-class-name":e.cellClassName,"cell-style":e.cellStyle,"show-summary":"","summary-method":e.getSummaries},on:{"selection-change":e.onSelectionChange,select:e.onSelectionRow,"select-all":e.onSelectionAllRow}},[e.isShowCheckbox?r("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),r("el-table-column",{attrs:{label:"Product",prop:"productPlaceholder",width:"150"}}),r("el-table-column",{attrs:{label:"Product",prop:"productName",align:"center",width:"600"}}),r("el-table-column",{attrs:{label:"Quantity",prop:"quantity",align:"center",width:"100"}}),r("el-table-column",{attrs:{label:"Price",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v("$"+e._s(t.row.price))])]}}])}),r("el-table-column",{attrs:{label:"Unit Discount",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.isChildren?r("div",[r("span",[e._v("Combo Discount: -$"+e._s(t.row.memberProductDiscount))])]):r("div",[r("p",[e._v("-$"+e._s(t.row.discount))]),t.row.discountNotes?r("p",[r("el-tag",{attrs:{size:"small",type:"primary"}},[e._v(e._s(t.row.discountNotes))])],1):e._e()])]}}])}),r("el-table-column",{attrs:{label:"Total",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("span",[e._v("$"+e._s(t.row.subTotal))])]}}])})],1)],1)},n=[],i=r("5530"),l=(r("e9c4"),r("d3b7"),r("159b"),r("d81d"),r("a9e3"),r("13d5"),{components:{},data:function(){return{singleOrderData:[],isShowCheckbox:!0,selectionList:[]}},created:function(){this.testData(),this.singleOrderData=this.handleData(this.singleOrderData)},mounted:function(){this.isShowCheckbox&&this.singleOrderData.length&&this.$refs.tableRef.toggleAllSelection()},methods:{testData:function(){this.singleOrderData=[{productId:"1",productName:"testCombo",discount:0,quantity:1,price:200,subTotal:200,discountNotes:"Combo Discount",memberProductDiscount:397,productMemberList:[{productId:"1-1",productName:"testCombo - child1",quantity:1,price:499,subTotal:200,discount:331.83,discountNotes:"Combo Discount"},{productId:"1-2",productName:"testCombo - child2",quantity:2,price:49,subTotal:400,discount:32.58,discountNotes:"Combo Discount"}]},{productId:"2",productName:"product",discount:0,quantity:1,price:89,subTotal:89,discountNotes:"",memberProductDiscount:0,productMemberList:[]}]},handleData:function(e){for(var t=[],r=0;r<e.length;r++){e[r].productPlaceholder=e[r].productName;var o=e[r],n=Object(i["a"])({},e[r]);if(delete n.productMemberList,n.isNormalProduct=!o.productMemberList.length,t.push(n),o.productMemberList&&o.productMemberList.length)for(var l=0;l<o.productMemberList.length;l++)o.productMemberList[l].isStart=0===l,o.productMemberList[l].row=o.productMemberList.length,o.productMemberList[l].isChildren=!0,o.productMemberList[l].productPlaceholder="Which includes:",o.productMemberList[l].memberProductDiscount=o.memberProductDiscount,t.push(o.productMemberList[l])}return t},onSelectionChange:function(e){this.selectionList=e,console.log(JSON.stringify(this.selectionList))},onSelectionRow:function(e,t){var r=Boolean(e.length&&-1!==e.indexOf(t));console.log("selected",r)},onSelectionAllRow:function(e){},headerCellStyle:function(e){var t=e.row,r=(e.column,e.rowIndex,e.columnIndex);if(1===t[0].level){t[1].colSpan=2,t[2].colSpan=0;var o=this.isShowCheckbox?2:0;if(r===o)return{display:"none"}}return{textAlign:"center",background:"#E6E6E6"}},cellStyle:function(e){e.row,e.column,e.rowIndex,e.columnIndex;return{textAlign:"center"}},cellClassName:function(e){var t=e.row,r=(e.column,e.rowIndex,e.columnIndex);if(0===r&&!t.isNormalProduct&&!t.isChildren)return"disabled-column"},arraySpanMethod:function(e){var t=e.row,r=e.column;e.rowIndex,e.columnIndex;return"productPlaceholder"!==r["property"]||t.isChildren?"productName"!==r["property"]||t.isChildren?"productPlaceholder"===r["property"]&&t.isChildren&&t.isStart?[t.row,1]:"productPlaceholder"===r["property"]&&t.isChildren&&!t.isStart?[0,0]:"Unit Discount"===r["label"]&&t.isChildren&&t.isStart?[t.row,2]:"Unit Discount"===r["label"]&&t.isChildren&&!t.isStart||"Total"===r["label"]&&t.isChildren&&t.isStart||"Total"===r["label"]&&t.isChildren&&!t.isStart?[0,0]:void 0:[0,0]:[1,2]},getSummaries:function(e){for(var t=this.singleOrderData,r=0,o=0,n=0;n<t.length;n++){var i=t[n];(i.isChildren||i.isNormalProduct)&&(r+=i.quantity),i.isChildren&&!i.isNormalProduct||(o+=i.subTotal)}var l=[];return l[0]="合计",l[2]="总数量: "+r,l[5]="总金额: $"+o,this.isShowCheckbox||this.$nextTick((function(){var e=document.querySelectorAll("#table .el-table__footer-wrapper tr>td");e[1].colSpan=1,e[2].style.color="orange"})),l},getSummaries2:function(e){var t=e.columns,r=e.data,o=[];return t.forEach((function(e,t){if(0!==t){var n=r.map((function(t){return Number(t[e.property])}));n.every((function(e){return isNaN(e)}))?o[t]="N/A":(o[t]=n.reduce((function(e,t){var r=Number(t);return isNaN(r)?e:e+t}),0),o[t]+=" 元")}else o[t]="总价"})),o}}}),c=l,a=(r("0d8f"),r("2877")),s=Object(a["a"])(c,o,n,!1,null,"374188b0",null);t["default"]=s.exports},d58f:function(e,t,r){var o=r("1c0b"),n=r("7b0b"),i=r("44ad"),l=r("50c4"),c=function(e){return function(t,r,c,a){o(r);var s=n(t),u=i(s),d=l(s.length),h=e?d-1:0,p=e?-1:1;if(c<2)while(1){if(h in u){a=u[h],h+=p;break}if(h+=p,e?h<0:d<=h)throw TypeError("Reduce of empty array with no initial value")}for(;e?h>=0:d>h;h+=p)h in u&&(a=r(a,u[h],h,s));return a}};e.exports={left:c(!1),right:c(!0)}}}]);