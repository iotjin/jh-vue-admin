(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e20a9c72"],{"01b6":function(e,t,i){"use strict";i("f040")},3064:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-popover",{attrs:{width:e.width,placement:e.placement,trigger:e.trigger,"popper-class":"table-setting-popover"},on:{"after-leave":e.onClosed},model:{value:e.visible,callback:function(t){e.visible=t},expression:"visible"}},[i("div",{staticClass:"popover-header"},[i("el-checkbox",{on:{change:e.onSelectAll},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}},[e._v("全选")]),i("el-button",{attrs:{type:"text"},on:{click:e.onReset}},[e._v("重置")])],1),i("div",{staticClass:"column-list"},[i("draggable",{staticClass:"drag-list",attrs:{handle:".column-item",animation:"150","ghost-class":"drag-ghost"},on:{end:e.handleDragEnd},model:{value:e.dialogColumns,callback:function(t){e.dialogColumns=t},expression:"dialogColumns"}},e._l(e.dialogColumns,(function(t,l){return i("div",{key:"col-"+t.prop+"-"+l,staticClass:"column-item"},[i("el-checkbox",{model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"column.visible"}}),i("span",{staticClass:"column-label"},[e._v(e._s(t.label))]),i("i",{staticClass:"el-icon-rank drag-icon"})],1)})),0)],1),i("div",{staticClass:"popover-footer"},[i("el-button",{attrs:{size:"mini"},on:{click:e.onCancel}},[e._v("取消")]),i("el-button",{attrs:{size:"mini",type:"primary"},on:{click:e.onConfirm}},[e._v("确定")])],1),e._t("default",null,{slot:"reference"})],2)},n=[],o=(i("e9c4"),i("b64b"),i("d3b7"),i("0643"),i("76d6"),i("4e3e"),i("159b"),i("b76a")),a=i.n(o),s={name:"TableSettingPopover",components:{draggable:a.a},props:{columns:{type:Array,required:!0,validator:function(e){return e.every((function(e){return"string"===typeof e.label&&"string"===typeof e.prop&&"boolean"===typeof e.visible}))}},width:{type:String,default:"200"},placement:{type:String,default:"bottom"},trigger:{type:String,default:"click"}},data:function(){return{visible:!1,dialogColumns:[]}},computed:{selectAll:{get:function(){return this.dialogColumns.length>0&&this.dialogColumns.every((function(e){return e.visible}))},set:function(e){this.dialogColumns.forEach((function(t){return t.visible=e}))}}},watch:{columns:{immediate:!0,deep:!0,handler:function(e){this.dialogColumns=JSON.parse(JSON.stringify(e))}}},methods:{onSelectAll:function(e){this.selectAll=e},onReset:function(){this.dialogColumns=JSON.parse(JSON.stringify(this.columns))},onClosed:function(){this.blurActive(),this.onReset()},onCancel:function(){this.blurActive(),this.$emit("cancel",{}),this.visible=!1},onConfirm:function(){this.blurActive(),this.$emit("confirm",JSON.parse(JSON.stringify(this.dialogColumns))),this.visible=!1},blurActive:function(){document.activeElement instanceof HTMLElement&&document.activeElement.blur()},handleDragEnd:function(){}}},r=s,c=(i("01b6"),i("2877")),u=Object(c["a"])(r,l,n,!1,null,"2641302b",null);t["default"]=u.exports},4403:function(e,t,i){},"53fb":function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{directives:[{name:"drag-dialog",rawName:"v-drag-dialog"}],attrs:{title:e.dialogTitle,visible:e.isShowDialog,top:e.top,width:e.width,"close-on-click-modal":!1},on:{"update:visible":function(t){e.isShowDialog=t},closed:e.onClosedDialog}},[i("div",{staticClass:"dialog-header"},[i("el-checkbox",{on:{change:e.onSelectAll},model:{value:e.selectAll,callback:function(t){e.selectAll=t},expression:"selectAll"}},[e._v("全选")]),i("el-button",{attrs:{type:"text"},on:{click:e.onReset}},[e._v("重置")])],1),i("div",{staticClass:"column-list"},[i("draggable",{staticClass:"drag-list",attrs:{handle:".column-item",animation:"150","ghost-class":"drag-ghost"},on:{end:e.handleDragEnd},model:{value:e.dialogColumns,callback:function(t){e.dialogColumns=t},expression:"dialogColumns"}},e._l(e.dialogColumns,(function(t,l){return i("div",{key:"col-"+t.prop+"-"+l,staticClass:"column-item"},[i("el-checkbox",{model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"column.visible"}}),i("span",{staticClass:"column-label"},[e._v(e._s(t.label))]),i("i",{staticClass:"el-icon-rank drag-icon"})],1)})),0)],1),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:e.onDialogCancel}},[e._v("取消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.onDialogConfirm}},[e._v("确认")])],1)])},n=[],o=(i("e9c4"),i("b64b"),i("d3b7"),i("0643"),i("76d6"),i("4e3e"),i("159b"),i("b76a")),a=i.n(o),s={name:"TableSettingDialog",components:{draggable:a.a},props:{isShow:{type:Boolean,default:!1},columns:{type:Array,required:!0,validator:function(e){return e.every((function(e){return"string"===typeof e.label&&"string"===typeof e.prop&&"boolean"===typeof e.visible}))}},title:{type:String,default:""},top:{type:String,default:"8vh"},width:{type:String,default:"400px"}},data:function(){return{dialogTitle:"表格列配置",isShowDialog:!1,dialogColumns:[]}},computed:{selectAll:{get:function(){return this.dialogColumns.every((function(e){return e.visible}))},set:function(e){this.dialogColumns.forEach((function(t){t.visible=e}))}}},watch:{isShow:function(e){this.isShowDialog=e},isShowDialog:function(e){this.$emit("update:isShow",e)},title:{handler:function(e){this.dialogTitle=e.length?e:this.dialogTitle},immediate:!0},columns:{immediate:!0,deep:!0,handler:function(e){this.dialogColumns=JSON.parse(JSON.stringify(e))}}},methods:{onSelectAll:function(e){this.selectAll=e},onReset:function(){this.dialogColumns=JSON.parse(JSON.stringify(this.columns))},onClosedDialog:function(){this.onReset()},onDialogCancel:function(){this.$emit("cancel",{}),this.isShowDialog=!1},onDialogConfirm:function(){this.$emit("confirm",JSON.parse(JSON.stringify(this.dialogColumns))),this.isShowDialog=!1},handleDragEnd:function(){}}},r=s,c=(i("d9fa"),i("2877")),u=Object(c["a"])(r,l,n,!1,null,"70760f13",null);t["default"]=u.exports},6815:function(e,t,i){"use strict";i.r(t);var l=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"app-container"},[i("el-button",{attrs:{type:"primary"},on:{click:function(t){e.isShowDialog=!0}}},[e._v(" 列设置 - dialog ")]),i("span",{staticStyle:{"margin-right":"100px"}}),i("TableSettingPopover",{attrs:{width:"200",columns:e.columnConfigs},on:{confirm:e.handleColumnConfirm}},[i("el-button",{attrs:{type:"primary"}},[e._v("列设置 - popover")])],1),i("el-table",{key:e.tableKey,ref:"table",staticStyle:{width:"100%","margin-top":"20px"},attrs:{data:e.tableData,border:""}},[e._l(e.columnConfigs,(function(t,l){return[t.visible?i("el-table-column",{key:"table-col-"+t.prop+"-"+l,attrs:{prop:t.prop,label:t.label,width:t.width,align:"center"},scopedSlots:e._u([{key:"default",fn:function(l){return["gender"===t.prop?[i("el-tag",[e._v(e._s(l.row.gender))])]:"age"===t.prop?[i("el-tag",[e._v(e._s(l.row.age))])]:"email"===t.prop?[i("el-input",{attrs:{size:"mini",disabled:""},model:{value:l.row.email,callback:function(t){e.$set(l.row,"email",t)},expression:"scope.row.email"}})]:[e._v(" "+e._s(l.row[t.prop])+" ")]]}}],null,!0)}):e._e()]}))],2),i("TableSettingDialog",{attrs:{"is-show":e.isShowDialog,columns:e.columnConfigs},on:{"update:isShow":function(t){e.isShowDialog=t},"update:is-show":function(t){e.isShowDialog=t},confirm:e.handleColumnConfirm}})],1)},n=[],o=i("53fb"),a=i("3064"),s={name:"TableColumnSetting",components:{TableSettingDialog:o["default"],TableSettingPopover:a["default"]},data:function(){return{isShowDialog:!1,tableKey:0,columnConfigs:[{label:"ID",prop:"id",visible:!0,width:"80"},{label:"姓名",prop:"name",visible:!0},{label:"年龄",prop:"age",visible:!0},{label:"性别",prop:"gender",visible:!0,width:"100"},{label:"邮箱",prop:"email",visible:!1},{label:"电话",prop:"phone",visible:!1}],tableData:[{id:1,name:"张三",age:25,gender:"男",email:"zhangsan@example.com",phone:"13800138000"},{id:2,name:"李四",age:30,gender:"女",email:"lisi@example.com",phone:"13900139000"},{id:3,name:"王五",age:28,gender:"男",email:"wangwu@example.com",phone:"13700137000"}]}},methods:{handleColumnConfirm:function(e){this.columnConfigs=e}}},r=s,c=i("2877"),u=Object(c["a"])(r,l,n,!1,null,"4dbf12e4",null);t["default"]=u.exports},"76d6":function(e,t,i){"use strict";var l=i("23e7"),n=i("2266"),o=i("1c0b"),a=i("825a");l({target:"Iterator",proto:!0,real:!0},{every:function(e){return a(this),o(e),!n(this,(function(t){if(!e(t))return n.stop()}),void 0,!1,!0).stopped}})},d9fa:function(e,t,i){"use strict";i("4403")},f040:function(e,t,i){}}]);