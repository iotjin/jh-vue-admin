(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-56ac8340"],{"2c47":function(t,e,a){"use strict";a("bd60")},"642e":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-button",{attrs:{type:"primary",icon:"el-icon-refresh",loading:t.tableLoading},on:{click:t.requestList}},[t._v(" 刷新数据 ")]),a("el-row",{staticStyle:{margin:"15px"}},[a("div",{staticClass:"box-card"},[a("span",{staticStyle:{"margin-right":"20px"}},[t._v("Hide Column:")]),a("el-checkbox",{model:{value:t.hideColumnData.colors,callback:function(e){t.$set(t.hideColumnData,"colors",e)},expression:"hideColumnData.colors"}},[t._v("Colors")]),a("el-checkbox",{model:{value:t.hideColumnData.times,callback:function(e){t.$set(t.hideColumnData,"times",e)},expression:"hideColumnData.times"}},[t._v("Times")])],1)]),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],ref:"tableRef",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",border:"","header-cell-style":{textAlign:"center"},"cell-style":t.cellStyle}},[a("el-table-column",{attrs:{prop:"name",label:"名称"}}),a("el-table-column",{attrs:{prop:"sales",label:"总销售额"}}),t.hideColumnData.colors?t._e():a("el-table-column",{attrs:{prop:"sales",label:"测试颜色","class-name":"customColumnHeader",width:"50"}}),t.hideColumnData.colors?t._e():a("el-table-column",{attrs:{prop:"sales",label:"测试颜色","class-name":"customColumnCell",width:"50"}}),a("el-table-column",{attrs:{label:"折线图",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticStyle:{width:"100%",height:"150px"},attrs:{id:"myChart_"+e.$index},on:{click:function(a){return t.openBigChart(e.row)}}})]}}])}),t.hideColumnData.times?t._e():t._l(t.dateList,(function(e,i){return a("el-table-column",{key:i,attrs:{label:e,prop:e,width:"100"},scopedSlots:t._u([{key:"default",fn:function(i){return[a("div",{class:t.getCellClass(i.row[e])},[t._v(" "+t._s(i.row[e])+" ")])]}}],null,!0)})}))],2),a("el-dialog",{attrs:{visible:t.isShowDialog,width:"60%",title:"折线图"},on:{"update:visible":function(e){t.isShowDialog=e},opened:t.renderBigChart}},[a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"bigChart"}})])],1)},r=[],n=(a("99af"),a("5db7"),a("a630"),a("caad"),a("d81d"),a("73d9"),a("b0c0"),a("e9c4"),a("b64b"),a("d3b7"),a("25f0"),a("6062"),a("2532"),a("3ca3"),a("0643"),a("cd1a"),a("4e3e"),a("a573"),a("159b"),a("ddb0"),a("313e")),o=a("ed08"),s=a("96eb"),l={name:"Home7",data:function(){return{tableLoading:!1,tableData:[],dateList:[],chartList:[],hideColumnData:{colors:!1,times:!1},isShowDialog:!1,currentChartData:null,bigChartInstance:null,bigChartResizeHandler:null}},watch:{hideColumnData:{handler:function(){this.renderCharts()},deep:!0}},mounted:function(){this.requestList()},beforeDestroy:function(){this.destroyListCharts(),this.destroyBigChart()},methods:{destroyListCharts:function(){this.chartList.forEach((function(t){t.chart&&t.chart.dispose(),t.resizeHandler&&window.removeEventListener("resize",t.resizeHandler)})),this.chartList=[]},destroyBigChart:function(){this.bigChartInstance&&(this.bigChartInstance.dispose(),this.bigChartInstance=null),this.bigChartResizeHandler&&(window.removeEventListener("resize",this.bigChartResizeHandler),this.bigChartResizeHandler=null)},getCellClass:function(t){return t>300?"cellClass1":t>200&&t<=300?"cellClass2":"cellClass3"},cellStyle:function(t){var e=t.row,a=t.column,i=(t.rowIndex,t.columnIndex,this.dateList.includes(a.property));if(i){var r=e[a.property];if("number"!==typeof r)return{};if(r>300)return{textAlign:"center","background-color":"#fff2f0",color:"#f56c6c"};if(r>200&&r<=300)return{textAlign:"center","background-color":"#fffbee",color:"#faad14"}}return{textAlign:"center"}},requestList:function(){var t=this;this.dateList=[],this.tableLoading=!0,setTimeout((function(){var e=function(){return[1980,1990,2e3,2010,2020]},a=s.mock({"items|10":[{id:function(){return s.Random.guid()},name:"产品@increment","sales|50-500":1,chartData:function(){var t=e();return s.mock({"items|5":[{date:function(){return t.shift().toString()},"value|100-500":1,money:"@float(0, 1000, 1, 2)"}]}).items}}]}).items,i=Array.from(new Set(a.flatMap((function(t){return t.chartData.map((function(t){return t.date}))}))));a.forEach((function(t){return t.chartData.forEach((function(e){t[e.date]=e.value}))})),t.dateList=JSON.parse(JSON.stringify(i)),t.tableData=JSON.parse(JSON.stringify(a)),t.tableLoading=!1,t.renderCharts()}),1e3)},renderCharts:function(){var t=this;this.destroyListCharts(),this.$nextTick((function(){setTimeout((function(){t.tableData.forEach((function(e,a){t.initChart(a,e.chartData)}))}),200)}))},initChart:function(t,e){var a=document.getElementById("myChart_".concat(t));if(a){var i={xData:[],seriesData:[]};e.forEach((function(t){i.xData.push(t.date),i.seriesData.push(t.value)}));var r=n["b"](a),s=t%2===1?this.getOption(i):this.getOption2(i);r.setOption(s);var l=Object(o["debounce2"])((function(){return r.resize()}),300);window.addEventListener("resize",l),this.chartList.push({chart:r,resizeHandler:l})}},openBigChart:function(t){this.currentChartData=t.chartData,this.isShowDialog=!0},renderBigChart:function(){var t=this;this.destroyBigChart();var e=document.getElementById("bigChart");if(e){var a={xData:[],seriesData:[]};this.currentChartData.forEach((function(t){a.xData.push(t.date),a.seriesData.push(t.value)})),this.bigChartInstance=n["b"](e);var i=this.getOption2(a);this.bigChartInstance.setOption(i),this.bigChartResizeHandler=Object(o["debounce2"])((function(){t.bigChartInstance&&t.bigChartInstance.resize()}),300),window.addEventListener("resize",this.bigChartResizeHandler)}},getOption:function(t){return{tooltip:{trigger:"axis"},grid:{left:"3%",right:"4%",bottom:"3%",top:"3%",containLabel:!0},xAxis:{type:"category",show:!1,data:t.xData},yAxis:{type:"value",show:!1},series:[{data:t.seriesData,type:"line",smooth:!0,symbol:"emptyCircle",symbolSize:6,lineStyle:{width:3,color:"#5b8ff9"}}]}},getOption2:function(t){return{tooltip:{trigger:"axis",backgroundColor:"rgba(255, 255, 255, 0.9)",borderColor:"#ddd",borderWidth:1,textStyle:{color:"#333"},formatter:function(t){var e=t[0];return'<div style="font-weight: bold;">'.concat(e.name,'</div>\n                      <div>回报率: <span style="color: ').concat(e.color,'">').concat(e.value,"%</span></div>")}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:t.xData,axisLine:{lineStyle:{color:"#ccc"}}},yAxis:{type:"value",axisLabel:{formatter:"{value}%"},splitLine:{lineStyle:{color:"#f0f0f0"}},axisLine:{lineStyle:{color:"#ccc"}}},series:[{name:"投资回报率",type:"line",data:t.seriesData,symbol:"circle",symbolSize:8,smooth:!0,emphasis:{scale:!0,symbolSize:10},lineStyle:{width:3,color:"#5b8ff9"},itemStyle:{color:"#5b8ff9",borderColor:"#fff",borderWidth:2},areaStyle:{color:{type:"linear",x:0,y:0,x2:0,y2:1,colorStops:[{offset:0,color:"rgba(91, 143, 249, 0.3)"},{offset:1,color:"rgba(91, 143, 249, 0)"}]}}}]}},getOption3:function(t){return{tooltip:{trigger:"axis",axisPointer:{type:"shadow"}},grid:{top:2,right:2,bottom:2,left:2,containLabel:!1},xAxis:{type:"category",data:["1月","2月","3月","4月","5月","6月","7月"],axisLine:{lineStyle:{color:"#ccc"}},axisLabel:{color:"#666"}},yAxis:{type:"value",axisLine:{show:!0,lineStyle:{color:"#ccc"}},axisLabel:{color:"#666"},splitLine:{lineStyle:{color:"#f0f0f0"}}},series:[{name:"销售额",type:"line",smooth:!1,data:t,itemStyle:{color:"#409EFF"},areaStyle:{color:new n["a"].LinearGradient(0,0,0,1,[{offset:0,color:"rgba(64, 158, 255, 0.3)"},{offset:1,color:"rgba(64, 158, 255, 0.1)"}])}}]}}}},c=l,d=(a("2c47"),a("2877")),u=Object(d["a"])(c,i,r,!1,null,"3ee58e31",null);e["default"]=u.exports},bd60:function(t,e,a){}}]);