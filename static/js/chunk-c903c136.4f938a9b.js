(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-c903c136"],{"13d5":function(t,e,r){"use strict";var o=r("23e7"),n=r("d58f").left,i=r("a640"),l=r("ae40"),a=i("reduce"),c=l("reduce",{1:0});o({target:"Array",proto:!0,forced:!a||!c},{reduce:function(t){return n(this,t,arguments.length,arguments.length>1?arguments[1]:void 0)}})},5385:function(t,e,r){},"544e":function(t,e,r){"use strict";r.r(e);var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("el-table",{ref:"tableRef",attrs:{id:"table",data:t.singleOrderData,border:"","span-method":t.arraySpanMethod,"header-cell-style":t.headerCellStyle,"cell-class-name":t.cellClassName,"cell-style":t.cellStyle,"show-summary":"","summary-method":t.getSummaries},on:{"selection-change":t.selectionChangeHandle}},[t.isShowCheckbox?r("el-table-column",{attrs:{type:"selection",width:"55"}}):t._e(),r("el-table-column",{attrs:{label:"Product",prop:"productPlaceholder",width:"150"}}),r("el-table-column",{attrs:{label:"Product",prop:"productName",align:"center",width:"600"}}),r("el-table-column",{attrs:{label:"Quantity",prop:"quantity",align:"center",width:"100"}}),r("el-table-column",{attrs:{label:"Price",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v("$"+t._s(e.row.price))])]}}])}),r("el-table-column",{attrs:{label:"Unit Discount",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.isChildren?r("div",[r("span",[t._v("Combo Discount: -$"+t._s(e.row.memberProductDiscount))])]):r("div",[r("p",[t._v("-$"+t._s(e.row.discount))]),e.row.discountNotes?r("p",[r("el-tag",{attrs:{size:"small",type:"primary"}},[t._v(t._s(e.row.discountNotes))])],1):t._e()])]}}])}),r("el-table-column",{attrs:{label:"Total",align:"center",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("span",[t._v("$"+t._s(e.row.subTotal))])]}}])})],1)],1)},n=[],i=r("5530"),l=(r("e9c4"),r("d3b7"),r("159b"),r("d81d"),r("a9e3"),r("13d5"),{components:{},data:function(){return{singleOrderData:[],isShowCheckbox:!0,selectionList:[]}},created:function(){this.testData(),this.singleOrderData=this.handleData(this.singleOrderData)},mounted:function(){this.isShowCheckbox&&this.singleOrderData.length&&this.$refs.tableRef.toggleAllSelection()},methods:{testData:function(){this.singleOrderData=[{productId:"1",productName:"testCombo",discount:0,quantity:1,price:200,subTotal:200,discountNotes:"Combo Discount",memberProductDiscount:397,productMemberList:[{productId:"1-1",productName:"testCombo - child1",quantity:1,price:499,subTotal:200,discount:331.83,discountNotes:"Combo Discount"},{productId:"1-2",productName:"testCombo - child2",quantity:2,price:49,subTotal:400,discount:32.58,discountNotes:"Combo Discount"}]},{productId:"2",productName:"product",discount:0,quantity:1,price:89,subTotal:89,discountNotes:"",memberProductDiscount:0,productMemberList:[]}]},handleData:function(t){for(var e=[],r=0;r<t.length;r++){t[r].productPlaceholder=t[r].productName;var o=t[r],n=Object(i["a"])({},t[r]);if(delete n.productMemberList,n.isNormalProduct=!o.productMemberList.length,e.push(n),o.productMemberList&&o.productMemberList.length)for(var l=0;l<o.productMemberList.length;l++)o.productMemberList[l].isStart=0===l,o.productMemberList[l].row=o.productMemberList.length,o.productMemberList[l].isChildren=!0,o.productMemberList[l].productPlaceholder="Which includes:",o.productMemberList[l].memberProductDiscount=o.memberProductDiscount,e.push(o.productMemberList[l])}return e},selectionChangeHandle:function(t){this.selectionList=t,console.log(JSON.stringify(this.selectionList))},headerCellStyle:function(t){var e=t.row,r=(t.column,t.rowIndex,t.columnIndex);if(1===e[0].level){e[1].colSpan=2,e[2].colSpan=0;var o=this.isShowCheckbox?2:0;if(r===o)return{display:"none"}}return{textAlign:"center",background:"#E6E6E6"}},cellStyle:function(t){t.row,t.column,t.rowIndex,t.columnIndex;return{textAlign:"center"}},cellClassName:function(t){var e=t.row,r=(t.column,t.rowIndex,t.columnIndex);if(0===r&&!e.isNormalProduct&&!e.isChildren)return"disabled-column"},arraySpanMethod:function(t){var e=t.row,r=t.column;t.rowIndex,t.columnIndex;return"productPlaceholder"!==r["property"]||e.isChildren?"productName"!==r["property"]||e.isChildren?"productPlaceholder"===r["property"]&&e.isChildren&&e.isStart?[e.row,1]:"productPlaceholder"===r["property"]&&e.isChildren&&!e.isStart?[0,0]:"Unit Discount"===r["label"]&&e.isChildren&&e.isStart?[e.row,2]:"Unit Discount"===r["label"]&&e.isChildren&&!e.isStart||"Total"===r["label"]&&e.isChildren&&e.isStart||"Total"===r["label"]&&e.isChildren&&!e.isStart?[0,0]:void 0:[0,0]:[1,2]},getSummaries:function(t){for(var e=this.singleOrderData,r=0,o=0,n=0;n<e.length;n++){var i=e[n];(i.isChildren||i.isNormalProduct)&&(r+=i.quantity),i.isChildren&&!i.isNormalProduct||(o+=i.subTotal)}var l=[];return l[0]="合计",l[2]="总数量: "+r,l[5]="总金额: $"+o,this.isShowCheckbox||this.$nextTick((function(){var t=document.querySelectorAll("#table .el-table__footer-wrapper tr>td");t[1].colSpan=1,t[2].style.color="orange"})),l},getSummaries2:function(t){var e=t.columns,r=t.data,o=[];return e.forEach((function(t,e){if(0!==e){var n=r.map((function(e){return Number(e[t.property])}));n.every((function(t){return isNaN(t)}))?o[e]="N/A":(o[e]=n.reduce((function(t,e){var r=Number(e);return isNaN(r)?t:t+e}),0),o[e]+=" 元")}else o[e]="总价"})),o}}}),a=l,c=(r("768d"),r("2877")),u=Object(c["a"])(a,o,n,!1,null,"6732ffdf",null);e["default"]=u.exports},"768d":function(t,e,r){"use strict";r("5385")},d58f:function(t,e,r){var o=r("1c0b"),n=r("7b0b"),i=r("44ad"),l=r("50c4"),a=function(t){return function(e,r,a,c){o(r);var u=n(e),s=i(u),d=l(u.length),p=t?d-1:0,h=t?-1:1;if(a<2)while(1){if(p in s){c=s[p],p+=h;break}if(p+=h,t?p<0:d<=p)throw TypeError("Reduce of empty array with no initial value")}for(;t?p>=0:d>p;p+=h)p in s&&(c=r(c,s[p],p,u));return c}};t.exports={left:a(!1),right:a(!0)}},e9c4:function(t,e,r){var o=r("23e7"),n=r("d066"),i=r("d039"),l=n("JSON","stringify"),a=/[\uD800-\uDFFF]/g,c=/^[\uD800-\uDBFF]$/,u=/^[\uDC00-\uDFFF]$/,s=function(t,e,r){var o=r.charAt(e-1),n=r.charAt(e+1);return c.test(t)&&!u.test(n)||u.test(t)&&!c.test(o)?"\\u"+t.charCodeAt(0).toString(16):t},d=i((function(){return'"\\udf06\\ud834"'!==l("\udf06\ud834")||'"\\udead"'!==l("\udead")}));l&&o({target:"JSON",stat:!0,forced:d},{stringify:function(t,e,r){var o=l.apply(null,arguments);return"string"==typeof o?o.replace(a,s):o}})}}]);