(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3e300de5"],{"0d7d":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"app-container"},[a("el-row",[a("el-col",{attrs:{span:22}},[a("el-transfer",{attrs:{data:t.statusList,"filter-method":t.filterMethod,titles:["Select All","Status"],"target-order":"push",filterable:""},on:{change:t.handleChange},model:{value:t.ids,callback:function(e){t.ids=e},expression:"ids"}})],1)],1),a("div",{staticStyle:{margin:"10px 0","font-weight":"bold","font-size":"25px"}},[t._v("Selected Status:")]),a("div",{staticStyle:{"margin-left":"10px","margin-bottom":"10px"}},[t._v("Drag to sort status")]),t.selectStatusList.length?a("div",{staticClass:"dndList"},[a("draggable",{attrs:{group:"noraml","chosen-class":"chosen"},on:{start:t.onStart,end:t.onEnd},model:{value:t.selectStatusList,callback:function(e){t.selectStatusList=e},expression:"selectStatusList"}},t._l(t.selectStatusList,(function(e,i){return a("div",{key:i,staticClass:"list-item"},[a("div",{staticStyle:{display:"flex","align-items":"center"}},[a("div",{staticStyle:{flex:"9"}},[a("div",{staticStyle:{color:"#000","font-weight":"bold"}},[t._v(" "+t._s(e.label)+" ")]),a("div",{staticStyle:{color:"#000","margin-top":"10px"}},[a("span",{staticStyle:{"margin-right":"5px"}},[t._v("Can Read")]),a("el-switch",{on:{change:t.onChange},model:{value:e.canRead,callback:function(a){t.$set(e,"canRead",a)},expression:"item.canRead"}}),a("span",{staticStyle:{"margin-right":"10px"}}),a("span",{staticStyle:{"margin-right":"5px"}},[t._v("Can Write")]),a("el-switch",{on:{change:t.onChange},model:{value:e.canWrite,callback:function(a){t.$set(e,"canWrite",a)},expression:"item.canWrite"}})],1)]),a("div",{staticStyle:{color:"#000","font-weight":"bold"}},[t._v(" "+t._s(e.order)+" ")])])])})),0)],1):t._e()],1)},l=[],o=(a("c740"),a("d81d"),a("4e82"),a("e9c4"),a("b64b"),a("d3b7"),a("0643"),a("4e3e"),a("a573"),a("159b"),a("ca11")),s=a("b76a"),n=a.n(s),r={components:{draggable:n.a},props:{type:{type:String,default:"add"},editStatusList:{type:Array,default:function(){return[]}}},data:function(){return{statusList:[],selectStatusList:[],ids:[]}},watch:{editStatusList:{handler:function(t,e){this.handleEditData(t)},immediate:!0}},created:function(){this.getDictStatus()},mounted:function(){},methods:{handleEditData:function(t){var e=this;if("add"!==this.type){for(var a,i=[],l=function(l){a={key:l,label:t[l].statusName,value:t[l].statusId,canRead:t[l].canRead,canWrite:t[l].canWrite,order:t[l].order};var o=e.statusList.findIndex((function(e){return e.value===t[l].statusId}));-1!==o&&(a.key=e.statusList[o].key),i.push(a)},o=0;o<t.length;o++)l(o);i.sort((function(t,e){return t.order!==e.order?t.order-e.order:t.label.localeCompare(e.label)}));for(var s=0;s<i.length;s++)i[s].order=s;this.ids=i.map((function(t){return t.key})),this.selectStatusList=i}},getDictStatus:function(){var t=this;Object(o["d"])().then((function(e){if(2e4===e.code){for(var a=e.data,i=[],l=0;l<a.length;l++)i.push({key:l,label:a[l].label,value:a[l].value}),"add"===t.type&&(i[l].canRead=!1,i[l].canWrite=!1);t.statusList=JSON.parse(JSON.stringify(i))}else t.$message.warning("Failed to get status list. Error details: "+e.msg)}))},filterMethod:function(t,e){var a="",i=e.label.toLowerCase();return t&&(a=t.toLowerCase()),i.indexOf(a)>-1},handleChange:function(t,e,a){var i=this,l=[],o=JSON.parse(JSON.stringify(this.statusList));this.ids.forEach((function(t,e){var a=i.statusList.findIndex((function(e){return e.key===t}));if(-1!==a){var s=o[a];s.order=e,l.push(s)}})),l.forEach((function(t,e){var a=i.selectStatusList.findIndex((function(e){return t.value===e.value}));-1!==a&&(l[e].canRead=i.selectStatusList[a].canRead,l[e].canWrite=i.selectStatusList[a].canWrite)})),this.selectStatusList=l,this.onChange()},onStart:function(){},onEnd:function(){for(var t=0;t<this.selectStatusList.length;t++){var e=this.selectStatusList[t];e.order=t,this.$set(this.selectStatusList,t,e)}this.onChange()},onChange:function(){var t=this.selectStatusList.map((function(t){return{statusId:t.value,canRead:t.canRead,canWrite:t.canWrite,order:t.order}}));this.$emit("change",t)}}},c=r,u=(a("cf38"),a("2877")),d=Object(u["a"])(c,i,l,!1,null,"36e71a27",null);e["default"]=d.exports},"4c00":function(t,e,a){},"51ed":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.isShowDialog,top:"8vh",width:"60%","close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e},opened:t.onOpenedDialog,closed:t.onClosedDialog}},[a("div",{staticClass:"spp-dialog"},[a("el-form",{ref:"dialogFormRef",attrs:{model:t.dialogFormData,inline:!1,rules:t.dialogFormRules,"label-width":"120px",size:"small",disabled:t.dialogIsLook}},[t._l(t.dialogFormData.products,(function(e,i){return a("el-row",{key:i},[a("el-col",{attrs:{span:15}},[a("el-form-item",{attrs:{label:"product "+(i+1),prop:"products."+i+".productName","label-width":"130px",rules:t.dialogFormRules.product}},[a("el-input",{attrs:{clearable:""},model:{value:e.productName,callback:function(a){t.$set(e,"productName",a)},expression:"product.productName"}})],1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{directives:[{name:"show",rawName:"v-show",value:t.dialogFormData.products.length>1,expression:"dialogFormData.products.length>1"}],attrs:{icon:"el-icon-delete",type:"danger",size:"mini"},on:{click:function(e){return t.removeProduct(i)}}},[t._v("Remove")])],1)],1)})),a("el-row",[a("el-col",{staticStyle:{"margin-left":"40px"},attrs:{lg:3,md:5}},[a("el-button",{attrs:{icon:"el-icon-plus",type:"primary",size:"mini"},on:{click:t.addProduct}},[t._v("Add new product")])],1)],1),a("div",{staticStyle:{"margin-top":"20px"}}),a("el-form-item",{attrs:{label:"备注:",prop:"notes"}},[a("el-input",{staticClass:"input-width",attrs:{placeholder:"请输入备注",type:"textarea",maxlength:"100","show-word-limit":"",clearable:""},model:{value:t.dialogFormData.notes,callback:function(e){t.$set(t.dialogFormData,"notes",e)},expression:"dialogFormData.notes"}})],1),a("el-form-item",{attrs:{label:"测试拦截切换1"}},[a("el-select",{ref:"selectRef",attrs:{filterable:"",clearable:""},model:{value:t.dialogFormData.testSwitch,callback:function(e){t.$set(t.dialogFormData,"testSwitch",e)},expression:"dialogFormData.testSwitch"}},t._l(t.optionList,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"测试拦截切换2"}},[a("el-select",{ref:"selectRef2",attrs:{filterable:"",clearable:""},nativeOn:{click:function(e){return t.onFocus()}},model:{value:t.dialogFormData.testSwitch2,callback:function(e){t.$set(t.dialogFormData,"testSwitch2",e)},expression:"dialogFormData.testSwitch2"}},t._l(t.optionList,(function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value},nativeOn:{click:function(a){return t.handleClick(e)}}})})),1)],1)],2),t.dialogIsLook?t._e():a("div",{staticClass:"dialog-footer spp-dialog-btns",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:t.dialogSubmitBtnLoading,size:"small",type:"primary"},on:{click:function(e){return t.onDialogSubmit()}}},[t._v("保存")]),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.isShowDialog=!1}}},[t._v("取消")])],1)],1)])],1)},l=[],o=(a("a434"),a("e9c4"),a("b64b"),{components:{},props:{isShow:{type:Boolean,default:!1},dialogType:{type:String,default:"add"},dialogData:{type:Object,default:function(){return{}}},title:{type:String,default:""},isRefresh:{type:Boolean,default:!1}},data:function(){return{dialogTitle:"提示",isShowDialog:!1,dialogSubmitBtnLoading:!1,dialogIsLook:!1,initFormData:{},dialogFormData:{id:"",products:[{productId:"",productName:""}],notes:"",testSwitch:"",testSwitch2:""},dialogFormRules:{product:[{required:!0,message:"请输入产品",trigger:["blur","change"]},{min:1,max:10,message:"10字符以内",trigger:["blur","change"]}],notes:[{required:!1,message:"请输入",trigger:["blur","change"]},{min:1,max:100,message:"100字符以内",trigger:["blur","change"]}]},optionList:[{label:"选项1",value:"value1"},{label:"选项2",value:"value2"},{label:"选项3",value:"value3"},{label:"选项4",value:"value4"},{label:"选项5",value:"value5"}],switchValue:"value3",lastSelect:""}},watch:{isShow:function(t){this.isShowDialog=t},isShowDialog:function(t){this.$emit("update:isShow",t)},dialogType:function(t){this.dialogTitle=this.title||("add"===t?"新增":"edit"===t?"编辑":"look"===t?"查看":this.dialogTitle),this.dialogIsLook="look"===t},dialogData:function(t){"add"===this.dialogType?this.dialogFormData=JSON.parse(JSON.stringify(this.initFormData)):this.dialogFormData=JSON.parse(JSON.stringify(t))},title:function(t){this.dialogTitle=t.length?t:this.dialogTitle},isRefresh:function(t){}},created:function(){this.initFormData=JSON.parse(JSON.stringify(this.dialogFormData))},mounted:function(){this.initProxy()},methods:{onOpenedDialog:function(){"add"===this.dialogType&&this.$refs["dialogFormRef"].clearValidate()},onClosedDialog:function(){this.dialogIsLook||this.$refs["dialogFormRef"].resetFields(),this.$emit("closed",{})},initProxy:function(){var t=this,e=this;this.dialogFormData=new Proxy(this.dialogFormData,{set:function(a,i,l){return"testSwitch"===i&&l===t.switchValue?e.$confirm("是否切换到选项三","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a[i]=l,e.$refs.selectRef.blur()})).catch((function(){e.$refs.selectRef.blur()})):a[i]=l,!0}})},initDefineProperty:function(){var t=this,e=null;Object.defineProperty(this.dialogFormData,"testSwitch",{get:function(){return e},set:function(a){a===t.switchValue?t.$confirm("是否切换到选项三","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e=a,t.$forceUpdate(),t.$refs.selectRef.blur()})).catch((function(){t.$refs.selectRef.blur()})):(e=a,t.$forceUpdate(),t.$refs.selectRef.blur())}})},onFocus:function(){this.lastSelect=this.dialogFormData.testSwitch2},handleClick:function(t){var e=this;t.value===this.switchValue&&this.$confirm("是否切换到选项三","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$refs.selectRef2.blur()})).catch((function(){e.dialogFormData.testSwitch2=e.lastSelect,e.$refs.selectRef2.blur()}))},onDialogSubmit:function(){var t=this;this.$refs["dialogFormRef"].validate((function(e){e&&t.submitRequest()}))},addProduct:function(){this.dialogFormData.products.push({productId:"",productName:""})},removeProduct:function(t){this.dialogFormData.products.splice(t,1)},submitRequest:function(){JSON.parse(JSON.stringify(this.dialogFormData));this.isShowDialog=!1,this.$emit("success",{})}}}),s=o,n=(a("de14"),a("2877")),r=Object(n["a"])(s,i,l,!1,null,"5d5e01b6",null);e["default"]=r.exports},"522f":function(t,e,a){},7380:function(t,e,a){},7754:function(t,e,a){"use strict";a.d(e,"i",(function(){return l})),a.d(e,"l",(function(){return o})),a.d(e,"b",(function(){return s})),a.d(e,"d",(function(){return n})),a.d(e,"f",(function(){return r})),a.d(e,"g",(function(){return c})),a.d(e,"k",(function(){return u})),a.d(e,"a",(function(){return d})),a.d(e,"c",(function(){return g})),a.d(e,"e",(function(){return h})),a.d(e,"h",(function(){return p})),a.d(e,"j",(function(){return m}));var i=a("b775");function l(t){return Object(i["a"])({url:"/v1/api/dict/type/list",method:"get",params:t})}function o(t){return Object(i["a"])({url:"/v1/api/dict/type/save",method:"post",data:t})}function s(t){return Object(i["a"])({url:"/v1/api/dict/type/save",method:"post",data:t})}function n(t){return Object(i["a"])({url:"/v1/api/dict/type/delete",method:"post",data:t})}function r(t){return Object(i["a"])({url:"/v1/api/dict/type/save",method:"post",data:t})}function c(t){return Object(i["a"])({url:"/v1/api/dict/item/list",method:"get",params:t})}function u(t){return Object(i["a"])({url:"/v1/api/dict/item/save",method:"post",data:t})}function d(t){return Object(i["a"])({url:"/v1/api/dict/item/save",method:"post",data:t})}function g(t){return Object(i["a"])({url:"/v1/api/dict/item/delete",method:"post",data:t})}function h(t){return Object(i["a"])({url:"/v1/api/dict/item/save",method:"post",data:t})}function p(t){return Object(i["a"])({url:"/v1/api/dict/items/",method:"get",params:t})}function m(t){return Object(i["a"])({url:"/v1/api/dicts/multiple/",method:"get",params:t})}},"8c91":function(t,e,a){"use strict";a("7380")},"8e52":function(t,e,a){"use strict";a("ea0e")},"8ec5":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.isShowDialog,top:"8vh",width:"60%","close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e},opened:t.onOpenedDialog,closed:t.onClosedDialog}},[a("div",{staticClass:"spp-dialog"},[a("el-form",{ref:"dialogFormRef",attrs:{model:t.dialogFormData,inline:!0,rules:t.dialogFormRules,"label-width":"120px",size:"small",disabled:t.dialogIsLook}},[a("el-form-item",{attrs:{label:"操作人:",prop:"name1"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.dialogFormData.name1,callback:function(e){t.$set(t.dialogFormData,"name1",e)},expression:"dialogFormData.name1"}})],1),a("el-form-item",{attrs:{label:"级别:",prop:"level"}},[a("el-select",{attrs:{placeholder:"请选择","collapse-tags":"",clearable:""},model:{value:t.dialogFormData.level,callback:function(e){t.$set(t.dialogFormData,"level",e)},expression:"dialogFormData.level"}},t._l(t.levelOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",{attrs:{label:"手机号:",prop:"phone"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.dialogFormData.phone,callback:function(e){t.$set(t.dialogFormData,"phone",e)},expression:"dialogFormData.phone"}})],1),a("el-form-item",{attrs:{label:"金额:",prop:"money"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.dialogFormData.money,callback:function(e){t.$set(t.dialogFormData,"money",e)},expression:"dialogFormData.money"}})],1),a("el-form-item",{attrs:{label:"年龄:",prop:"age"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.dialogFormData.age,callback:function(e){t.$set(t.dialogFormData,"age",e)},expression:"dialogFormData.age"}})],1),a("el-form-item",{attrs:{label:"创建时间:",prop:"createDate"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss"},model:{value:t.dialogFormData.createDate,callback:function(e){t.$set(t.dialogFormData,"createDate",e)},expression:"dialogFormData.createDate"}})],1),a("el-form-item",{attrs:{label:"更新时间:",prop:"updateDate"}},[a("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期","value-format":"yyyy-MM-dd HH:mm:ss",format:"yyyy-MM-dd HH:mm:ss"},model:{value:t.dialogFormData.updateDate,callback:function(e){t.$set(t.dialogFormData,"updateDate",e)},expression:"dialogFormData.updateDate"}})],1),a("el-form-item",{attrs:{label:"处理状态:",prop:"status"}},[a("el-select",{attrs:{placeholder:"请选择","collapse-tags":"",clearable:""},model:{value:t.dialogFormData.status,callback:function(e){t.$set(t.dialogFormData,"status",e)},expression:"dialogFormData.status"}},[a("el-option",{attrs:{label:"未处理",value:"0"}}),a("el-option",{attrs:{label:"已处理",value:"1"}})],1)],1),a("el-form-item",{attrs:{label:"内容:",prop:"content"}},[a("el-input",{attrs:{placeholder:"请输入",type:"textarea",clearable:""},model:{value:t.dialogFormData.content,callback:function(e){t.$set(t.dialogFormData,"content",e)},expression:"dialogFormData.content"}})],1),a("el-form-item",{attrs:{label:"启用:",prop:"isUse"}},[a("el-radio-group",{model:{value:t.dialogFormData.isUse,callback:function(e){t.$set(t.dialogFormData,"isUse",e)},expression:"dialogFormData.isUse"}},[a("el-radio",{attrs:{label:"1"}},[t._v("启用")]),a("el-radio",{attrs:{label:"0"}},[t._v("停用")])],1)],1)],1),t.dialogIsLook?t._e():a("div",{staticClass:"dialog-footer spp-dialog-btns",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:t.dialogSubmitBtnLoading,size:"small",type:"primary"},on:{click:function(e){return t.onDialogSubmit(t.dialogFormData)}}},[t._v("保存 ")]),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.isShowDialog=!1}}},[t._v("取消")])],1)],1)])],1)},l=[],o=a("dc66"),s=a("c30c"),n={components:{},props:{isShow:{type:Boolean,default:!1},title:{type:String,default:""},dialogData:{type:Object,default:function(){return{}}},dialogType:{type:String,default:"add"},jumpPage:{type:String,default:""}},data:function(){return{levelOptions:[],dialogTitle:"提示",isShowDialog:!1,dialogSubmitBtnLoading:!1,dialogIsLook:!1,dialogFormData:{name1:"",content:"",level:"",createDate:"",updateDate:"",isUse:"",status:"",phone:"",money:"",age:""},dialogFormRules:{name1:[{required:!0,message:"请输入",trigger:"blur"},{min:1,max:10,message:"10字符以内",trigger:"blur"}],content:[{required:!1,message:"请输入",trigger:"blur"},{min:1,max:100,message:"100字符以内",trigger:"blur"}],level:[{required:!0,message:"请选择",trigger:"blur"}],createDate:[{required:!0,message:"请选择",trigger:"blur"}],updateDate:[{required:!0,message:"请选择",trigger:"blur"}],status:[{required:!0,message:"请选择",trigger:"blur"}],isUse:[{required:!0,message:"请选择",trigger:"blur"}],phone:[{required:!0,message:"请输入",trigger:"blur"},{pattern:s["b"],message:"请输入正确手机号"}],money:[{required:!0,message:"请输入",trigger:"blur"},{pattern:s["a"],message:"请输入最多两位小数金额"}],age:[{required:!0,message:"请输入",trigger:"blur"},{pattern:/^[1-9]\d*$/,message:"仅支持录入正整数"}]}}},watch:{isShow:function(t){this.isShowDialog=t},isShowDialog:function(t){this.showDialog(t)},title:function(t){this.dialogTitle=t.length?t:this.dialogTitle,this.dialogIsLook="查看"===t},dialogData:function(t){this.dialogFormData=t},dialogType:function(t){this.dialogTitle="add"===t?"新增":"edit"===t?"编辑":"look"===t?"查看":this.dialogTitle,this.dialogIsLook="look"===t}},mounted:function(){},methods:{showDialog:function(t){this.$emit("update:isShow",t)},requestDict:function(){var t=this;Object(o["h"])().then((function(e){2e4===e.code&&(t.levelOptions=e.data)})).catch((function(t){}))},getName:function(t,e){for(var a=e,i=0;i<a.length;i++)if(a[i].value===t)return a[i].label},onOpenedDialog:function(){this.requestDict()},onClosedDialog:function(){this.dialogIsLook||this.$refs["dialogFormRef"].resetFields(),this.$emit("closed",{})},onDialogSubmit:function(){var t=this;this.$refs["dialogFormRef"].validate((function(e){e&&t.submitRequest()}))},submitRequest:function(){var t=this;this.dialogSubmitBtnLoading=!0;var e={};e=this.dialogFormData,"新增"===this.dialogTitle&&Object(o["a"])(e).then((function(e){t.dialogSubmitBtnLoading=!1,2e4===e.code?(t.$message.success("保存成功!"),t.isShowDialog=!1,t.$emit("success",{})):t.$message.error(e.msg)})).catch((function(e){t.dialogSubmitBtnLoading=!1})),"编辑"===this.dialogTitle&&Object(o["c"])(e).then((function(e){t.dialogSubmitBtnLoading=!1,2e4===e.code?(t.$message.success("保存成功!"),t.isShowDialog=!1,t.$emit("success",{})):t.$message.error(e.msg)})).catch((function(e){t.dialogSubmitBtnLoading=!1}))}}},r=n,c=(a("8e52"),a("2877")),u=Object(c["a"])(r,i,l,!1,null,"c299223a",null);e["default"]=u.exports},"99ab":function(t,e,a){a("99af"),a("ac1f"),a("5319");var i=a("7037").default;function l(t,e){if(0===arguments.length)return null;var a,l=e||"{y}-{m}-{d} {h}:{i}:{s}";"object"===i(t)||(10===(""+t).length&&(t=1e3*parseInt(t)),a=new Date(t));var o={y:a.getFullYear(),m:a.getMonth()+1,d:a.getDate(),h:a.getHours(),i:a.getMinutes(),s:a.getSeconds(),w:a.getDay()},s=l.replace(/{(y|m|d|h|i|s|w)+}/g,(function(t,e){var a=o[e];return"w"===e?["日","一","二","三","四","五","六"][a]:(t.length>0&&a<10&&(a="0"+a),a||0)}));return s}function o(t){var e=t.replace(/-|\./g,"/");return e=e.replace(/年/g,"/"),e=e.replace(/月/g,"/"),e=e.replace(/日/g,""),4===e.length&&(e+="/01/01 00:00:00"),7===e.length&&(e+="/01 00:00:00"),10===e.length&&(e+=" 00:00:00"),16===e.length&&(e+=":00"),Date.parse(e)}function s(t,e){var a=["Y","M","D","h","m","s"],i=[],l=new Date(parseInt(t)),o=l.getFullYear(),s=l.getMonth()+1,n=l.getDate(),r=l.getHours(),c=l.getMinutes(),u=l.getSeconds();for(var d in i.push(o),i.push(s<10?"0"+s:s),i.push(n<10?"0"+n:n),i.push(r<10?"0"+r:r),i.push(c<10?"0"+c:c),i.push(u<10?"0"+u:u),i)e=e.replace(a[d],i[d]);return e}function n(t){var e=t.replace(/-/g,"");e=e.substring(0,8);var a=(new Date).getTime();return a=l(a,"{y}{m}{d}"),e===a}function r(){var t=Date.parse(new Date);return l(t,"{y}-{m}")}function c(t){var e=t.substring(0,4);e=parseInt(e),e-=1;var a=t.substring(4,5),i="";return i="年"===a?e+"年":e+a,i}function u(t){var e=t.substring(0,4);e=parseInt(e),e+=1;var a=t.substring(4,5),i="";return i="年"===a?e+"年":e+a,i}function d(t){var e=t.substring(0,4),a=t.substring(5,7);e=parseInt(e),a=parseInt(a),a-=1,0===a&&(e-=1,a=12),a<10&&(a="0"+a);var i=t.substring(4,5),l="";return l="年"===i?e+"年"+a+"月":e+i+a,l}function g(t){var e=t.substring(0,4),a=t.substring(5,7);e=parseInt(e),a=parseInt(a),a+=1,13===a&&(e+=1,a=1),a<10&&(a="0"+a);var i=t.substring(4,5),l="";return l="年"===i?e+"年"+a+"月":e+i+a,l}function h(t){var e=new Date(t).getFullYear(),a=new Date(t).getMonth()+1,i=new Date(t).getDate(),l=new Date,o=new Date(new Date(t).toLocaleDateString()),s=o.getTime()-l.getTime(),n=parseInt(s/1e3),r=Math.floor(n/86400),c=Math.floor((n-24*r*60*60)/3600),u=Math.floor((n-24*r*60*60-3600*c)/60),d=Math.floor(n-60*r*60*24-60*c*60-60*u);return"距离".concat(e,"年").concat(a,"月").concat(i,"日还有").concat(r,"天").concat(c,"小时").concat(u,"分").concat(d,"秒")}function p(t){return t?t.substr(0,10)+" 00:00:00":""}function m(t){return t?t.substr(0,10)+" 23:59:59":""}function f(t,e,a){return t=t.replace(/-/g,"/"),e=e.replace(/-/g,"/"),a=a.replace(/-/g,"/"),t=new Date(t),e=new Date(e),a=new Date(a),e<=t&&t<=a}function b(t,e){t=t.replace(/-/g,"/"),e=e.replace(/-/g,"/"),t=new Date(t),e=new Date(e);var a=new Date;return t<=a&&a<=e}function v(t,e){var a=new Date;return t=t.replace(/-/g,"/"),e=e.replace(/-/g,"/"),t=new Date(t),e=new Date(e),a<=t&&t<=e}function S(t,e){var a=o(t),i=o(e);return a>i}a("99af"),a("ac1f"),a("5319"),t.exports={Jh_timeStampToTime:l,Jh_convertTimeStamp:o,Jh_timestampToYMD:s,Jh_isToday:n,Jh_getYearMonth:r,Jh_getPrevYear:c,Jh_getNextYear:u,Jh_getPrevYearMonth:d,Jh_getNextYearMonth:g,Jh_compareTimes:S,Jh_isBetweenTimes:f,Jh_isBetweenTimesByCurrent:b,Jh_isBetweenTimesByCurrentAndEndTime:v,getEndTime:h,startOfDay:p,endOfDay:m}},c30c:function(t,e,a){"use strict";a.d(e,"b",(function(){return i})),a.d(e,"a",(function(){return l}));a("ac1f"),a("00b4");var i=/^1[3-9][0-9]{9}$/,l=/^(([1-9][0-9]*)|(([0]\.\d{1,2}|[1-9][0-9]*\.\d{1,2})))$/},ca11:function(t,e,a){"use strict";a.d(e,"a",(function(){return l})),a.d(e,"d",(function(){return o})),a.d(e,"c",(function(){return s})),a.d(e,"b",(function(){return n}));var i=a("7754");function l(){return Object(i["h"])({type:"dept"})}function o(){return Object(i["h"])({type:"status"})}function s(){return Object(i["h"])({type:"level"})}function n(){return Object(i["j"])({types:"dept,level"})}},cce6:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.isShowDialog,top:"8vh",width:"80%","close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e},opened:t.onOpenedDialog,closed:t.onClosedDialog}},[a("div",{staticClass:"spp-dialog"},[a("div",{staticClass:"spp-theme-body spp-theme-pad"},[a("el-form",{staticClass:"spp-form-search spp-theme-top",attrs:{inline:!0,size:"small",model:t.tableSearchParams}},[a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"80px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[t._v("名称:")])]),a("el-input",{attrs:{maxlength:"20",placeholder:"请输入"},model:{value:t.tableSearchParams.name1,callback:function(e){t.$set(t.tableSearchParams,"name1",e)},expression:"tableSearchParams.name1"}})],1),a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"80px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[t._v("级别:")])]),a("el-select",{attrs:{placeholder:"请选择","collapse-tags":"",clearable:""},model:{value:t.tableSearchParams.level,callback:function(e){t.$set(t.tableSearchParams,"level",e)},expression:"tableSearchParams.level"}},t._l(t.levelOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"110px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[t._v("创建时间:")])]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy年MM月dd日"},model:{value:t.tableSearchParams.timeRange,callback:function(e){t.$set(t.tableSearchParams,"timeRange",e)},expression:"tableSearchParams.timeRange"}})],1),a("el-form-item",{staticStyle:{"padding-left":"30px"}},[a("el-button",{staticClass:"spp-form-btn",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSearch()}}},[t._v("查询")])],1)],1),a("div",{staticClass:"spp-table-group spp-theme-top spp-theme-pad"},[a("div",{staticClass:"spp-table-btns"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSelectAll}},[t._v("全选 ")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:t.onDeleteAll}},[t._v("清空 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],ref:"tableRef",staticClass:"spp-table spp-theme-top",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:!0,"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{prop:"number",type:"index",label:"序号"}}),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name1",label:"操作人",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{on:{click:function(a){return t.onClickRow(e.row)}}},[a("a",{staticStyle:{color:"#00a0e9","text-decoration":"underline"}},[t._v(t._s(e.row.name1))])])]}}])}),a("el-table-column",{attrs:{prop:"content",label:"内容",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{"visible-arrow":!1,effect:"light",content:e.row.content,placement:"bottom"}},[a("span",{staticClass:"tab-line-max-show-css"},[t._v(" "+t._s(e.row.content)+" ")])])]}}])}),a("el-table-column",{attrs:{prop:"level",label:"级别",sortable:"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(t.getName(e.row.level,t.levelOptions))+" ")]}}])}),a("el-table-column",{attrs:{prop:"status",label:"处理状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.status?"未处理":"已处理")+" ")]}}])}),a("el-table-column",{attrs:{prop:"isUse",label:"启用"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.isUse?"停用":"启用")+" ")]}}])}),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"200"}}),a("el-table-column",{attrs:{prop:"money",label:"金额"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{prop:"updateDate",label:"更新时间",width:"180"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"120"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.rowSelect(e.row)}}},[t._v("选择 ")])]}}])})],1),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.tableTotal>0,expression:"tableTotal>0"}],staticClass:"spp-theme-top",attrs:{background:"","current-page":t.tableSearchParams.page,"page-size":t.tableSearchParams.limit,"page-sizes":t.tableSizes,total:t.tableTotal,layout:"prev, pager, next, sizes"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1),a("div",{staticClass:"dialog-footer spp-dialog-btns",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:t.dialogSubmitBtnLoading,size:"small",type:"primary"},on:{click:function(e){return t.onDialogSelect()}}},[t._v("选择 ")]),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.isShowDialog=!1}}},[t._v("取消")])],1)])])],1)},l=[],o=a("2909"),s=a("99ab"),n=a.n(s),r=a("dc66"),c={components:{},props:{isShow:{type:Boolean,default:!1},title:{type:String,default:""},dialogData:{type:Object,default:function(){return{}}},dialogListData:{type:Array,default:function(){return[]}},listData:{type:Array,default:function(){return[]}}},data:function(){return{dialogTitle:"选择",isShowDialog:!1,dialogSubmitBtnLoading:!1,levelOptions:[],tableLoading:!1,tableData:[],tableSearchParams:{name1:"",time:"",level:"",page:1,limit:this.pageGroup.size},tableTotal:1e3,tableSizes:this.pageGroup.sizes,selectionList:[]}},watch:{isShow:function(t){this.isShowDialog=t},isShowDialog:function(t){this.showDialog(t)},title:function(t){this.dialogTitle=t.length?t:this.dialogTitle},dialogData:function(t){},dialogListData:function(t){}},mounted:function(){},methods:{showDialog:function(t){this.$emit("update:isShow",t)},requestDict:function(){var t=this;Object(r["h"])().then((function(e){2e4===e.code&&(t.levelOptions=e.data)})).catch((function(t){}))},requestList:function(){var t=this,e={};e=this.tableSearchParams,e.startDate=this.tableSearchParams.timeRange?n.a.startOfDay(this.tableSearchParams.timeRange[0]):"",e.endDate=this.tableSearchParams.timeRange?n.a.endOfDay(this.tableSearchParams.timeRange[1]):"",this.tableLoading=!0,Object(r["i"])(e).then((function(e){t.tableLoading=!1,2e4===e.code?(t.tableData=e.data,t.tableTotal=e.total):t.$message.error(e.msg)})).catch((function(e){t.tableLoading=!1}))},getName:function(t,e){for(var a=e,i=0;i<a.length;i++)if(a[i].value===t)return a[i].label},onOpenedDialog:function(){this.requestDict(),this.requestList()},onClosedDialog:function(){this.$emit("closed",[])},onDialogSelect:function(){this.submitRequest()},onSearch:function(){this.handleCurrentChange(1)},handleSizeChange:function(t){this.tableSearchParams.page=1,this.tableSearchParams.limit=t,this.requestList()},handleCurrentChange:function(t){this.tableSearchParams.page=t,this.requestList()},onSelectAll:function(){this.$refs.tableRef.toggleAllSelection()},onDeleteAll:function(){this.$refs.tableRef.clearSelection()},onSelectionChange:function(t){this.selectionList=t},rowSelect:function(t){this.selectionList=[t],this.isShowDialog=!1,this.$emit("select",this.selectionList)},onClickRow:function(t){this.$message.info(t.name1)},submitRequest:function(){var t=Object(o["a"])(this.selectionList);this.isShowDialog=!1,this.$emit("select",t)}}},u=c,d=a("2877"),g=Object(d["a"])(u,i,l,!1,null,"cfad2f22",null);e["default"]=g.exports},cf38:function(t,e,a){"use strict";a("522f")},d385:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.isShowDialog,top:"8vh",width:"60%","close-on-click-modal":!1},on:{"update:visible":function(e){t.isShowDialog=e},opened:t.onOpenedDialog,closed:t.onClosedDialog}},[a("div",{staticClass:"spp-dialog"},[a("el-tabs",{attrs:{type:"border-card"},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"Staff Info",name:"staffTab"}},[a("el-form",{ref:"dialogFormRef",attrs:{model:t.dialogFormData,inline:!0,rules:t.dialogFormRules,"label-width":"120px",size:"small",disabled:t.dialogIsLook}},[a("el-form-item",{attrs:{label:"操作人:",prop:"name1"}},[a("el-input",{attrs:{placeholder:"请输入",clearable:""},model:{value:t.dialogFormData.name1,callback:function(e){t.$set(t.dialogFormData,"name1",e)},expression:"dialogFormData.name1"}})],1)],1)],1),a("el-tab-pane",{attrs:{label:"Set Status",name:"setStatusTab"}},[a("SetStatus",{attrs:{type:t.dialogType,"edit-status-list":t.editStatusList},on:{change:t.onChangeStatus}})],1)],1),t.dialogIsLook?t._e():a("div",{staticClass:"dialog-footer spp-dialog-btns",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{loading:t.dialogSubmitBtnLoading,size:"small",type:"primary"},on:{click:function(e){return t.onDialogSubmit()}}},[t._v("保存")]),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.isShowDialog=!1}}},[t._v("取消")])],1)],1)])],1)},l=[],o=(a("e9c4"),a("b64b"),a("0d7d")),s={components:{SetStatus:o["default"]},props:{isShow:{type:Boolean,default:!1},dialogType:{type:String,default:"add"},dialogData:{type:Object,default:function(){return{}}},title:{type:String,default:""}},data:function(){return{dialogTitle:"提示",isShowDialog:!1,dialogSubmitBtnLoading:!1,dialogIsLook:!1,dialogFormData:{name1:""},dialogFormRules:{name1:[{required:!0,message:"请输入",trigger:"blur"},{min:1,max:10,message:"10字符以内",trigger:"blur"}]},activeName:"staffTab",editStatusList:[]}},watch:{isShow:function(t){this.isShowDialog=t},isShowDialog:function(t){this.$emit("update:isShow",t)},dialogType:function(t){this.dialogTitle=this.title||("add"===t?"新增":"edit"===t?"编辑":"look"===t?"查看":this.dialogTitle),this.dialogIsLook="look"===t},dialogData:function(t){"add"===this.dialogType?this.dialogFormData=JSON.parse(JSON.stringify(this.initFormData)):this.dialogFormData=JSON.parse(JSON.stringify(t))},title:function(t){this.dialogTitle=t.length?t:this.dialogTitle}},created:function(){this.initFormData=JSON.parse(JSON.stringify(this.dialogFormData))},methods:{onOpenedDialog:function(){"add"===this.dialogType&&this.$refs["dialogFormRef"].clearValidate();var t=[{statusId:"status2",statusName:"状态2",canRead:!0,canWrite:!0,order:1},{statusId:"status4",statusName:"状态4",canRead:!0,canWrite:!1,order:2}];this.editStatusList="add"===this.dialogType?[]:t},onClosedDialog:function(){this.dialogIsLook||this.$refs["dialogFormRef"].resetFields(),this.editStatusList=[],this.$emit("closed",{})},onChangeStatus:function(t){this.dialogFormData.statusList=t},onDialogSubmit:function(){var t=this;this.$refs["dialogFormRef"].validate((function(e){e?t.submitRequest():t.$message.warning("Please check staff info.")}))},submitRequest:function(){JSON.parse(JSON.stringify(this.dialogFormData));this.isShowDialog=!1,this.$emit("success",{})}}},n=s,r=a("2877"),c=Object(r["a"])(n,i,l,!1,null,"6dd4bcc6",null);e["default"]=c.exports},d7f2:function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"spp-theme-body spp-theme-pad"},[a("el-form",{staticClass:"spp-form-search spp-theme-top",attrs:{inline:!0,size:"small",model:t.tableSearchParams}},[a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"80px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[t._v("名称:")])]),a("el-input",{attrs:{maxlength:"20",placeholder:"请输入"},model:{value:t.tableSearchParams.name1,callback:function(e){t.$set(t.tableSearchParams,"name1",e)},expression:"tableSearchParams.name1"}})],1),a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"80px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[t._v("级别:")])]),a("el-select",{attrs:{placeholder:"请选择","collapse-tags":"",clearable:""},model:{value:t.tableSearchParams.level,callback:function(e){t.$set(t.tableSearchParams,"level",e)},expression:"tableSearchParams.level"}},t._l(t.levelOptions,(function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t.value}})})),1)],1),a("el-form-item",[a("span",{staticClass:"spp-form-label",staticStyle:{width:"150px"}},[a("i",{staticClass:"icon"}),a("i",{staticClass:"label"},[t._v("创建时间:")])]),a("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd",format:"yyyy年MM月dd日"},model:{value:t.tableSearchParams.timeRange,callback:function(e){t.$set(t.tableSearchParams,"timeRange",e)},expression:"tableSearchParams.timeRange"}})],1),a("el-form-item",[a("el-button",{staticClass:"spp-form-btn",attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onSearch()}}},[t._v("查询")])],1)],1),a("div",{staticClass:"spp-table-group spp-theme-top spp-theme-pad"},[a("div",{staticClass:"spp-table-btns"},[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onAdd}},[a("i",{staticClass:"el-icon-plus"}),t._v("新增 ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onEdit}},[a("i",{staticClass:"el-icon-edit"}),t._v("编辑 ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onLook}},[a("i",{staticClass:"el-icon-search"}),t._v("查看 ")]),a("el-button",{attrs:{size:"small",type:"warning"},on:{click:t.onExport}},[a("i",{staticClass:"el-icon-download"}),t._v("导出 ")]),a("el-button",{attrs:{size:"small",type:"danger"},on:{click:t.onDelete}},[a("i",{staticClass:"el-icon-delete"}),t._v("删除 ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onSelect}},[a("i",{staticClass:"el-icon-plus"}),t._v("选择 ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.onAddProduct}},[a("i",{staticClass:"el-icon-plus"}),t._v("添加产品 ")]),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){return t.onClickDrag()}}},[a("i",{staticClass:"el-icon-plus"}),t._v("拖拽排序 ")])],1),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],ref:"tableRef",staticClass:"spp-table spp-theme-top",staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:!0,"header-cell-style":{textAlign:"center"},"cell-style":{textAlign:"center"}},on:{"selection-change":t.onSelectionChange}},[a("el-table-column",{attrs:{prop:"number",type:"index",label:"序号"}}),a("el-table-column",{attrs:{type:"selection",width:"55"}}),a("el-table-column",{attrs:{prop:"name1",label:"操作人",width:"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",{on:{click:function(a){return t.onClickRow(e.row)}}},[a("a",{staticStyle:{color:"#00a0e9","text-decoration":"underline"}},[t._v(t._s(e.row.name1))])])]}}])}),a("el-table-column",{attrs:{prop:"content",label:"内容",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-tooltip",{staticClass:"item",attrs:{"visible-arrow":!1,effect:"light",content:e.row.content,placement:"bottom"}},[a("span",{staticClass:"tab-line-max-show-css"},[t._v(" "+t._s(e.row.content)+" ")])])]}}])}),a("el-table-column",{attrs:{prop:"level",label:"级别",sortable:"",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{class:"1"==e.row.level?"b-tag-success":"2"==e.row.level?"b-tag-warning":"b-tag-error"},[t._v(t._s(t.getName(e.row.level,t.levelOptions)))])]}}])}),a("el-table-column",{attrs:{prop:"status",label:"处理状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",{staticClass:"tagClass",style:{background:t.getBgColor(e.row)}},[t._v(" "+t._s(0==e.row.status?"未处理":"已处理")+" ")])]}}])}),a("el-table-column",{attrs:{prop:"isUse",label:"启用"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(" "+t._s(0==e.row.isUse?"停用":"启用")+" ")]}}])},[a("template",{slot:"header"},[a("div",[t._v("启用")]),a("div",[t._v("状态")])])],2),a("el-table-column",{attrs:{prop:"phone",label:"手机号",width:"200"}}),a("el-table-column",{attrs:{prop:"money",label:"金额"}}),a("el-table-column",{attrs:{prop:"age",label:"年龄"}}),a("el-table-column",{attrs:{prop:"createDate",label:"创建时间",width:"180"}}),a("el-table-column",{attrs:{prop:"updateDate",label:"更新时间",width:"180"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini",icon:"el-icon-edit-outline"},on:{click:function(a){return t.rowEdit(e.row)}}}),a("el-button",{attrs:{size:"mini",icon:"el-icon-rank"},on:{click:function(a){return t.onClickDrag(e.row)}}}),a("el-button",{attrs:{size:"mini",icon:"el-icon-delete",type:"danger"},on:{click:function(a){return t.rowDelete(e.row)}}}),a("el-button",{staticStyle:{margin:"6px 0px 0px"},attrs:{loading:t.cellBtnLoading===e.row.id,size:"mini",type:"success"},on:{click:function(a){return t.onClickRowPrint(e.row)}}},[t._v("Print")])]}}])})],1),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.tableTotal>0,expression:"tableTotal>0"}],staticClass:"spp-theme-top",attrs:{background:"","current-page":t.tableSearchParams.page,"page-size":t.tableSearchParams.limit,"page-sizes":t.tableSizes,total:t.tableTotal,layout:"prev, pager, next, sizes"},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("Dialog1",{attrs:{"dialog-type":t.dialogType,"is-show":t.isShowDialog,"dialog-data":t.dialogFormData,"jump-page":"table2页面"},on:{"update:isShow":function(e){t.isShowDialog=e},"update:is-show":function(e){t.isShowDialog=e},success:t.requestList,closed:t.onClosedDialog}}),a("Dialog2",{attrs:{"is-show":t.isShowSelectDialog,"dialog-data":t.dialogData2},on:{"update:isShow":function(e){t.isShowSelectDialog=e},"update:is-show":function(e){t.isShowSelectDialog=e},success:t.requestList,closed:t.onClosedDialog,select:t.onSelectfinish}}),a("Dialog3",{attrs:{"is-show":t.isShowSelectDialog2,"is-refresh":t.isRefreshDialog},on:{"update:isShow":function(e){t.isShowSelectDialog2=e},"update:is-show":function(e){t.isShowSelectDialog2=e},success:t.requestList,closed:t.onClosedDialog}}),a("Dialog4",{attrs:{"dialog-type":t.dialogType,"is-show":t.isShowDragDialog,"dialog-data":t.dialogFormData},on:{"update:isShow":function(e){t.isShowDragDialog=e},"update:is-show":function(e){t.isShowDragDialog=e},success:t.requestList,closed:t.onClosedDialog}})],1)},l=[],o=a("5530"),s=a("b85c"),n=(a("a15b"),a("d81d"),a("d3b7"),a("0643"),a("4e3e"),a("a573"),a("159b"),a("99ab")),r=a.n(n),c=a("dc66"),u=a("8ec5"),d=a("cce6"),g=a("51ed"),h=a("d385"),p={components:{Dialog1:u["default"],Dialog2:d["default"],Dialog3:g["default"],Dialog4:h["default"]},data:function(){return{tableHeight:170,tableLoading:!1,tableData:[],tableSearchParams:{name1:"",time:"",level:"",page:1,limit:this.pageGroup.size},tableTotal:1e3,tableSizes:this.pageGroup.sizes,selectionList:[],dialogType:"",isShowDialog:!1,dialogFormData:{},deptOptions:[],levelOptions:[],selectId:"",isShowSelectDialog:!1,dialogData2:{},isShowSelectDialog2:!1,isRefreshDialog:!1,isShowDragDialog:!1,cellBtnLoading:""}},mounted:function(){this.requestDict(),this.requestList()},methods:{onSearch:function(){this.handleCurrentChange(1)},requestList:function(){var t=this,e={};e=this.tableSearchParams,e.startDate=this.tableSearchParams.timeRange?r.a.startOfDay(this.tableSearchParams.timeRange[0]):"",e.endDate=this.tableSearchParams.timeRange?r.a.endOfDay(this.tableSearchParams.timeRange[1]):"",this.tableLoading=!0,Object(c["i"])(e).then((function(e){t.tableLoading=!1,2e4===e.code?(t.tableData=e.data,t.tableTotal=e.total):t.$message.error(e.msg)})).catch((function(e){t.tableLoading=!1}))},requestDict:function(){var t=this;Object(c["h"])().then((function(e){2e4===e.code&&(t.levelOptions=e.data)})).catch((function(t){}))},getName:function(t,e){for(var a=e,i=0;i<a.length;i++)if(a[i].value===t)return a[i].label},getBgColor:function(t){return"0"===t.status?"#E6A23C":"#67C23A"},handleSizeChange:function(t){this.tableSearchParams.page=1,this.tableSearchParams.limit=t,this.requestList()},handleCurrentChange:function(t){this.tableSearchParams.page=t,this.requestList()},onSelectionChange:function(t){this.selectionList=t},onAdd:function(){this.dialogFormData={name1:"",content:"",level:"",createDate:"",updateDate:"",isUse:"",status:"",phone:"",money:"",age:""},this.dialogType="add",this.isShowDialog=!0},onLook:function(){0!==this.selectionList.length?this.selectionList.length>1?this.$message.warning("只能选择一条记录！"):(this.selectId=this.selectionList[0].id,this.dialogType="look",this.handelDialogSetData(this.selectionList[0]),this.isShowDialog=!0):this.$message.warning("请选择记录")},onEdit:function(){0!==this.selectionList.length?this.selectionList.length>1?this.$message.warning("只能选择一条记录！"):(this.selectId=this.selectionList[0].id,this.dialogType="edit",this.handelDialogSetData(this.selectionList[0]),this.isShowDialog=!0):this.$message.warning("请选择记录")},onExport:function(){if(0===this.selectionList.length){var t={name1:"",time:"",level:"",page:1,limit:this.tableTotal},e=this;Object(c["i"])(t).then((function(t){var a=t.data;e.handelExcel(a)})).catch((function(t){}))}else this.handelExcel(this.selectionList)},handelExcel:function(t){var e=this,i={};i=t,i.forEach((function(t){t.levelName=e.getName(t.level,e.levelOptions),t.statusText=1===t.status?"已处理":"未处理"})),Promise.all([a.e("chunk-xlsx"),a.e("chunk-3f3c3db6"),a.e("chunk-0e5d72d6")]).then(function(){var t=a("4bf8"),l=t.export_json_to_excel,o=["操作人","级别","手机号","金额","年龄","创建时间","更新时间","状态"],s=["name1","levelName","phone","money","age","createDate","updateDate","statusText"],n=i,r=e.formatJson(s,n);l(o,r,"Excel")}.bind(null,a)).catch(a.oe)},formatJson:function(t,e){return e.map((function(e){return t.map((function(t){return e[t]}))}))},onDelete:function(){var t=this;0!==this.selectionList.length?this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e,a=[],i=Object(s["a"])(t.selectionList);try{for(i.s();!(e=i.n()).done;){var l=e.value;a.push(l.id)}}catch(r){i.e(r)}finally{i.f()}var o=a.join(","),n={ids:o};t.deleteRequest(n)})).catch((function(){})):this.$message.warning("请选择记录")},deleteRequest:function(t){var e=this;Object(c["b"])(t).then((function(t){2e4===t.code?(e.$message.success("删除成功!"),e.isShowDialog=!1,e.requestList()):e.$message.error(t.msg)})).catch((function(t){}))},onClickRow:function(t){this.selectId=t.id,this.dialogType="look",this.handelDialogSetData(t),this.isShowDialog=!0},onHandle:function(t){var e=this;Object(c["d"])(t.id).then((function(t){2e4===t.code?(e.dialogType="look",e.handelDialogSetData(t.data),e.isShowDialog=!0):e.$message.error(t.msg)})).catch((function(t){}))},rowEdit:function(t){this.dialogType="edit",this.handelDialogSetData(t),this.isShowDialog=!0},rowDelete:function(t){var e=this;this.$confirm("此操作将永久删除, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.deleteRequest(t.id)})).catch((function(t){}))},onClickRowPrint:function(t){var e=this;this.cellBtnLoading=t.id,setTimeout((function(){e.cellBtnLoading=""}),1500)},handelDialogSetData:function(t){var e=this;this.$nextTick((function(){e.dialogFormData=Object(o["a"])({},t)}))},onClosedDialog:function(){this.$refs.tableRef.clearSelection()},onSelect:function(){this.isShowSelectDialog=!0},onSelectfinish:function(t){},onAddProduct:function(){var t=this;this.isRefreshDialog=!1,this.$nextTick((function(){t.isRefreshDialog=!0})),this.isShowSelectDialog2=!0},onClickDrag:function(t){t?(this.handelDialogSetData(t),this.dialogType="edit",this.isShowDragDialog=!0):(this.dialogFormData={name1:"",content:"",level:"",createDate:"",updateDate:"",isUse:"",status:"",phone:"",money:"",age:""},this.dialogType="add",this.isShowDragDialog=!0)}}},m=p,f=(a("8c91"),a("2877")),b=Object(f["a"])(m,i,l,!1,null,"dc435e32",null);e["default"]=b.exports},dc66:function(t,e,a){"use strict";a.d(e,"i",(function(){return o})),a.d(e,"a",(function(){return s})),a.d(e,"b",(function(){return n})),a.d(e,"c",(function(){return r})),a.d(e,"d",(function(){return c})),a.d(e,"h",(function(){return u})),a.d(e,"g",(function(){return d})),a.d(e,"e",(function(){return g})),a.d(e,"f",(function(){return h}));var i=a("b775"),l=a("7754");function o(t){return Object(i["a"])({url:"/v1/api/table/list",method:"get",params:t})}function s(t){return Object(i["a"])({url:"/v1/api/table/save",method:"post",params:t})}function n(t){return Object(i["a"])({url:"/v1/api/table/delete",method:"post",params:t})}function r(t){return Object(i["a"])({url:"/v1/api/table/save",method:"post",params:t})}function c(t){return Object(i["a"])({url:"/v1/api/table/"+t,method:"get"})}function u(t){return Object(l["h"])({type:"level"})}function d(t){return Object(l["h"])({type:"leader"})}function g(t){return Object(l["h"])({type:"dept"})}function h(t){return Object(l["h"])({type:"deptTree"})}},de14:function(t,e,a){"use strict";a("4c00")},ea0e:function(t,e,a){}}]);